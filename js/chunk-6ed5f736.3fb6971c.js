(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6ed5f736"],{"0084":function(t,e,r){"use strict";function o(){var t=JSON.parse(localStorage.getItem("URL")),e="127.0.0.1",r="127.0.0.1",o="127.0.0.1",i="127.0.0.1",a="127.0.0.1",n=t&&t.accURL?t.accURL:"http://".concat(e,":10115"),s=t&&t.pnlURL?t.pnlURL:"http://".concat(e,":8028"),l=t&&t.listURL?t.listURL:"http://".concat(o,":8020"),c=t&&t.wsURL?t.wsURL:"ws://".concat(e,":10115/ws/"),u=t&&t.selectedURL?t.selectedURL:"http://".concat(r,":8022"),f=t&&t.indicatorURL?t.indicatorURL:"http://".concat(e,":8030"),d=t&&t.backtestURL?t.backtestURL:"http://127.0.0.1:8010",h=t&&t.innerURL?t.innerURL:"http://".concat(i,":8028"),p=t&&t.financialURL?t.financialURL:"http://".concat(a,":8018"),m=t&&t.groupURL?t.groupURL:"http://".concat(a,":8018"),b=t&&t.orderURL?t.orderURL:"http://".concat(a,":8018"),g=t&&t.klineURL?t.klineURL:"http://".concat(e,":8029"),w=t&&t.cashURL?t.cashURL:"http://".concat(a,":8020"),v=t&&t.backtestqifiURL?t.backtestqifiURL:"http://".concat(i,":8019"),_=t&&t.varietiesURL?t.varietiesURL:"http://".concat(a,":8018");return{accURL:n,pnlURL:s,listURL:l,wsURL:c,selectedURL:u,indicatorURL:f,backtestURL:d,innerURL:h,financialURL:p,groupURL:m,orderURL:b,klineURL:g,cashURL:w,backtestqifiURL:v,varietiesURL:_}}r.d(e,"a",(function(){return o}))},1148:function(t,e,r){"use strict";var o=r("a691"),i=r("1d80");t.exports="".repeat||function(t){var e=String(i(this)),r="",a=o(t);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(e+=e))1&a&&(r+=e);return r}},"408a":function(t,e,r){var o=r("c6b6");t.exports=function(t){if("number"!=typeof t&&"Number"!=o(t))throw TypeError("Incorrect invocation");return+t}},"5e89":function(t,e,r){var o=r("861d"),i=Math.floor;t.exports=function(t){return!o(t)&&isFinite(t)&&i(t)===t}},"782d":function(t,e,r){},"7e9f":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("d2-container",{attrs:{type:"full"}},[r("div",{ref:"system",staticClass:"system"},[r("div",{staticClass:"left"},[r("div",{staticClass:"left-top card"},[r("el-input",{staticStyle:{width:"300px","margin-bottom":"5px"},attrs:{placeholder:"请输入账户"},on:{input:t.serachAcc},model:{value:t.accInput,callback:function(e){t.accInput=e},expression:"accInput"}}),t.flag?r("vxe-table",{style:{width:t.positionsWidth+"px"},attrs:{data:t.serachAccData,"show-overflow":"",resizable:"",border:"",round:"","highlight-current-row":"","keyboard-config":{isArrow:!0},height:t.positionsHeight-40,"sort-config":{trigger:"cell"},"auto-resize":""},on:{"cell-dblclick":t.rowdblclick},scopedSlots:t._u([{key:"empty",fn:function(){return[r("span",[r("img",{attrs:{src:"https://xuliangzhan_admin.gitee.io/vxe-table/static/other/img2.gif"}}),r("p",[t._v("不是吧！这就没数据了")])])]},proxy:!0}],null,!1,3724769454)},[r("vxe-table-column",{attrs:{field:"account_cookie",title:"账户",sortable:"","min-width":"23%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.account_cookie))])]}}],null,!1,469576028)}),r("vxe-table-column",{attrs:{field:"float_profit",title:"浮动盈亏",sortable:"","min-width":"13%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:e.row.float_profit>0?"profit":0===e.row.float_profit?"":"loss"},[t._v(t._s(t._f("toFixed")(e.row.float_profit)))])]}}],null,!1,608030498)}),r("vxe-table-column",{attrs:{field:"close_profit",title:"平仓盈亏",sortable:"","min-width":"13%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:e.row.close_profit>0?"profit":0===e.row.close_profit?"":"loss"},[t._v(t._s(t._f("toFixed")(e.row.close_profit)))])]}}],null,!1,3221410660)}),r("vxe-table-column",{attrs:{field:"profit",title:"总盈亏",sortable:"","min-width":"12%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:e.row.profit>0?"profit":0===e.row.profit?"":"loss"},[t._v(t._s(t._f("toFixed")(e.row.profit)))])]}}],null,!1,3532623597)}),r("vxe-table-column",{attrs:{field:"commission",title:"手续费",sortable:"","min-width":"11%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("toFixed")(e.row.commission)))])]}}],null,!1,1978398623)}),r("vxe-table-column",{attrs:{field:"balance",title:"动态权益",sortable:"","min-width":"13%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("toFixed")(e.row.balance)))])]}}],null,!1,3197046804)}),r("vxe-table-column",{attrs:{field:"risk_ratio",title:"风险度",sortable:"","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("toFixed")(e.row.risk_ratio)))])]}}],null,!1,2696456015)})],1):t._e()],1),r("div",{staticClass:"left-bottom card"},[t.flag?r("vxe-table",{style:{width:t.positionsWidth+"px"},attrs:{data:t.positionsData,"show-overflow":"",resizable:"",border:"",round:"","highlight-current-row":"","keyboard-config":{isArrow:!0},height:t.positionsHeight,"sort-config":{trigger:"cell"},"auto-resize":""},scopedSlots:t._u([{key:"empty",fn:function(){return[r("span",[r("img",{attrs:{src:"https://xuliangzhan_admin.gitee.io/vxe-table/static/other/img2.gif"}}),r("p",[t._v("不是吧！这就没数据了")])])]},proxy:!0}],null,!1,3724769454)},[r("vxe-table-column",{attrs:{field:"code",title:"品种",sortable:"","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.code))])]}}],null,!1,2012011659)}),r("vxe-table-column",{attrs:{field:"float_profit",title:"浮动盈亏",sortable:"","min-width":"12%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:e.row.float_profit>0?"profit":0===e.row.float_profit?"":"loss"},[t._v(t._s(t._f("toFixed")(e.row.float_profit)))])]}}],null,!1,608030498)}),r("vxe-table-column",{attrs:{field:"float_profit_long",title:"多单浮动盈亏",sortable:"","min-width":"15%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:e.row.float_profit_long>0?"profit":0===e.row.float_profit_long?"":"loss"},[t._v(t._s(t._f("toFixed")(e.row.float_profit_long)))])]}}],null,!1,2068757399)}),r("vxe-table-column",{attrs:{field:"float_profit_short",title:"空单浮动盈亏",sortable:"","min-width":"15%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:e.row.float_profit_short>0?"profit":0===e.row.float_profit_short?"":"loss"},[t._v(t._s(t._f("toFixed")(e.row.float_profit_short)))])]}}],null,!1,451740975)}),r("vxe-table-column",{attrs:{field:"margin",title:"保证金",sortable:"","min-width":"11%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("toFixed")(e.row.margin)))])]}}],null,!1,4011222316)}),r("vxe-table-column",{attrs:{field:"volume_long",title:"多单持仓",sortable:"","min-width":"13%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.volume_long))])]}}],null,!1,2834652347)}),r("vxe-table-column",{attrs:{field:"volume_short",title:"空单持仓",sortable:"","min-width":"13%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(e.row.volume_short))])]}}],null,!1,2287735555)})],1):t._e()],1)]),r("div",{staticClass:"center"},[r("div",{staticClass:"center-top card"},[t.flag?r("vxe-table",{style:{width:t.tradeWidth+"px"},attrs:{data:t.portfolioData,border:"","highlight-current-row":"","keyboard-config":{isArrow:!0},"auto-resize":""}},[r("vxe-table-column",{attrs:{field:"balance",title:"权益"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("toFixed")(e.row.balance)))])]}}],null,!1,3197046804)}),r("vxe-table-column",{attrs:{field:"float_profit",title:"浮动盈亏"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:e.row.float_profit>0?"profit":0===e.row.float_profit?"":"loss"},[t._v(t._s(t._f("toFixed")(e.row.float_profit)))])]}}],null,!1,608030498)}),r("vxe-table-column",{attrs:{field:"margin",title:"保证金"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("toFixed")(e.row.margin)))])]}}],null,!1,4011222316)}),r("vxe-table-column",{attrs:{field:"profit",title:"利润"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",{class:e.row.profit>0?"profit":0===e.row.profit?"":"loss"},[t._v(t._s(t._f("toFixed")(e.row.profit)))])]}}],null,!1,3532623597)}),r("vxe-table-column",{attrs:{field:"commission",title:"手续费"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("toFixed")(e.row.commission)))])]}}],null,!1,1978398623)})],1):t._e()],1),r("div",{staticClass:"center-bottom"},[r("div",{ref:"chartBox",staticClass:"bottom-top card"},[r("vue-scroll",{attrs:{ops:t.ops}},[r("ve-histogram",{attrs:{data:t.chartData,width:t.barChartSize.width,height:t.barChartSize.height,settings:t.itemSetting,extend:t.barExtend}})],1)],1),r("div",{staticClass:"bottom-bottom"},[r("div",{staticClass:"bottom-right-bottom card"},[r("el-input",{staticStyle:{width:"300px","margin-bottom":"5px"},attrs:{placeholder:"请输入账户"},on:{input:t.serachTrade},model:{value:t.tradeInput,callback:function(e){t.tradeInput=e},expression:"tradeInput"}}),r("vxe-table",{style:{width:t.tradeWidth+"px"},attrs:{data:t.serachTradeData,"show-overflow":"",resizable:"",border:"",round:"","highlight-current-row":"","keyboard-config":{isArrow:!0},"max-height":t.tradeHeight,height:t.tradeHeight,"row-style":t.rowStyle,"cell-style":t.cellStyle,"sort-config":{trigger:"cell",defaultSort:{field:"tradetime",order:"desc"}},"auto-resize":""},on:{"cell-dblclick":t.rowdblclick},scopedSlots:t._u([{key:"empty",fn:function(){return[r("span",[r("img",{attrs:{src:"https://xuliangzhan_admin.gitee.io/vxe-table/static/other/img2.gif"}}),r("p",[t._v("不是吧！这就没数据了")])])]},proxy:!0}])},[r("vxe-table-column",{attrs:{field:"index",title:"index",sortable:"","min-width":"8%"}}),r("vxe-table-column",{attrs:{field:"account_cookie",title:"账户",sortable:"","min-width":"18%"}}),r("vxe-table-column",{attrs:{field:"code",title:"代码",sortable:"","min-width":"11%"}}),r("vxe-table-column",{attrs:{field:"commission",title:"手续费",sortable:"","min-width":"10%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("toFixed")(e.row.commission)))])]}}])}),r("vxe-table-column",{attrs:{field:"direction",title:"买卖","min-width":"10%",sortable:""}}),r("vxe-table-column",{attrs:{field:"offset",title:"标志","min-width":"10%",sortable:"","class-name":t.cellStyle}}),r("vxe-table-column",{attrs:{field:"price",title:"价格",sortable:"","min-width":"11%"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v(t._s(t._f("toFixed")(e.row.price)))])]}}])}),r("vxe-table-column",{attrs:{field:"tradetime",title:"交易时间",sortable:"","min-width":"15%"}}),r("vxe-table-column",{attrs:{field:"volume",title:"手数",sortable:"","min-width":"7%"}})],1)],1)])])])])])},i=[],a=(r("a4d3"),r("4de4"),r("fb6a"),r("a9e3"),r("8ba4"),r("b680"),r("e439"),r("dbb4"),r("b64b"),r("d3b7"),r("4d63"),r("25f0"),r("159b"),r("96cf"),r("ade3")),n=r("0084"),s=r("5880"),l=r("6e85"),c=r.n(l);function u(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function f(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?u(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={name:"demo-trade-system",data:function(){return{orderURL:"",timer:"",flag:!1,tradeInput:"",accInput:"",key:"portfolio",value:"QAW",portfolioData:[],serachTradeData:[],serachAccData:[],tradeData:[],accData:[],positionsData:[],tradeWidth:0,tradeHeight:0,positionsWidth:0,positionsHeight:.5*(window.innerHeight-120)-10,pnlData:[],chartData:{columns:[],rows:[]},barChartSize:{width:"0px",height:"0px"},itemSetting:{itemStyle:{color:function(t){return t.value<0?"#51b9b8":"#c23531"},opacity:.6}},barExtend:{xAxis:{axisLabel:{rotate:-90}},grid:{top:30,bottom:5,right:20}},ops:{vuescroll:{mode:"native"},scrollPanel:{scrollingX:!0},rail:{background:"#01a99a",opacity:0,size:"10px",specifyBorderRadius:!1,gutterOfEnds:null,gutterOfSide:"0px",keepShow:!0,border:"none"},bar:{keepShow:!0,hoverStyle:!0,onlyShowBarOnScroll:!0,background:"#ccc"}}}},filters:{toFixed:function(t){return Number.isInteger(t)?t:t.toFixed(2)}},mounted:function(){this.orderURL=Object(n["a"])().orderURL,this.getPortfolio(),this.getTradeData(),this.getPositions(),this.getPNL(),this.getAccData(),this.setIntervalHttp(),this.monitor()},beforeDestroy:function(){clearInterval(this.timer)},methods:f({},Object(s["mapMutations"])("d2admin/accOverview",["setAccOverviewData"]),{monitor:function(){var t=this;this.$refs.system&&this.$erd.listenTo(this.$refs.system,(function(e){var r=e.offsetWidth,o=e.offsetHeight;t.tradeWidth=.6*r-15,t.tradeHeight=(o-140)/2-40,t.positionsWidth=.4*r-7,t.positionsHeight=o/2-15,t.$refs.chartBox.style.width=.6*r-5+"px",t.barChartSize.width=25*t.chartData.rows.length<t.tradeWidth?t.tradeWidth+"px":25*t.chartData.rows.length+"px",t.barChartSize.height=(o-140)/2+"px",t.flag=!0}))},rowStyle:function(t){var e=t.row,r={};return"SELL"===e.direction?r.color="#67C23A":r.color="#F56C6C",r},cellStyle:function(t){var e=t.row,r=t.column;if("标志"===r.title){var o={};return"OPEN"===e.offset?o.background="rgba(255,205,210,0.7)":o.background="rgba(178,223,219,0.7)",o}},serachTrade:function(){var t=new RegExp(this.tradeInput,"i");this.serachTradeData=this.tradeData.filter((function(e){return t.test(e.account_cookie)}))},serachAcc:function(){var t=new RegExp(this.accInput,"i");this.serachAccData=this.accData.filter((function(e){return t.test(e.account_cookie)}))},rowdblclick:function(t){var e=t.row;this.$router.push({name:"demo-trade-tradeaccAnalysis",params:{id:e.account_cookie}})},setIntervalHttp:function(){var t=this;this.timer=setInterval((function(){t.isDuringDate("15:00","21:00")||t.isDuringDate("02:00","09:00")?clearInterval(t.timer):(t.getPortfolio(),t.getTradeData(),t.getPositions(),t.getPNL(),t.getAccData())}),2e4)},isDuringDate:function(t,e){var r=c()(new Date).format("YYYY-MM-DD"),o=new Date,i=new Date(r+" "+t),a=new Date(r+" "+e);return o>=i&&o<=a},getPortfolio:function(){var t,e;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,regeneratorRuntime.awrap(this.$http.get(this.orderURL+"/portfoliorealtime"));case 2:t=r.sent,e=t.res,this.portfolioData=[e];case 5:case"end":return r.stop()}}),null,this)},getTradeData:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$http.get(this.orderURL+"/MOMmanager?query=trade&key="+this.key+"&value="+this.value));case 2:t=e.sent,this.tradeData=t.res,this.serachTradeData=this.tradeData.slice(0);case 5:case"end":return e.stop()}}),null,this)},getAccData:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$http.get(this.orderURL+"/MOMmanager?query=accountProfit&key="+this.key+"&value="+this.value));case 2:t=e.sent,this.accData=t.res,this.serachAccData=this.accData.slice(0);case 5:case"end":return e.stop()}}),null,this)},getPositions:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$http.get(this.orderURL+"/MOMmanager?query=positions&key="+this.key+"&value="+this.value));case 2:t=e.sent,this.positionsData=t.res;case 4:case"end":return e.stop()}}),null,this)},getPNL:function(){var t;return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this.$http.get(this.orderURL+"/MOMmanager?query=pnl&key="+this.key+"&value="+this.value));case 2:t=e.sent,this.chartData.columns=Object.keys(t.res[0]),this.chartData.rows=t.res,this.monitor();case 6:case"end":return e.stop()}}),null,this)}})},h=d,p=(r("82d0"),r("2877")),m=Object(p["a"])(h,o,i,!1,null,"5518d7b3",null);e["default"]=m.exports},"82d0":function(t,e,r){"use strict";var o=r("782d"),i=r.n(o);i.a},"8ba4":function(t,e,r){var o=r("23e7"),i=r("5e89");o({target:"Number",stat:!0},{isInteger:i})},b680:function(t,e,r){"use strict";var o=r("23e7"),i=r("a691"),a=r("408a"),n=r("1148"),s=r("d039"),l=1..toFixed,c=Math.floor,u=function(t,e,r){return 0===e?r:e%2===1?u(t,e-1,r*t):u(t*t,e/2,r)},f=function(t){var e=0,r=t;while(r>=4096)e+=12,r/=4096;while(r>=2)e+=1,r/=2;return e},d=l&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!s((function(){l.call({})}));o({target:"Number",proto:!0,forced:d},{toFixed:function(t){var e,r,o,s,l=a(this),d=i(t),h=[0,0,0,0,0,0],p="",m="0",b=function(t,e){var r=-1,o=e;while(++r<6)o+=t*h[r],h[r]=o%1e7,o=c(o/1e7)},g=function(t){var e=6,r=0;while(--e>=0)r+=h[e],h[e]=c(r/t),r=r%t*1e7},w=function(){var t=6,e="";while(--t>=0)if(""!==e||0===t||0!==h[t]){var r=String(h[t]);e=""===e?r:e+n.call("0",7-r.length)+r}return e};if(d<0||d>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(p="-",l=-l),l>1e-21)if(e=f(l*u(2,69,1))-69,r=e<0?l*u(2,-e,1):l/u(2,e,1),r*=4503599627370496,e=52-e,e>0){b(0,r),o=d;while(o>=7)b(1e7,0),o-=7;b(u(10,o,1),0),o=e-1;while(o>=23)g(1<<23),o-=23;g(1<<o),b(1,1),g(2),m=w()}else b(0,r),b(1<<-e,0),m=w()+n.call("0",d);return d>0?(s=m.length,m=p+(s<=d?"0."+n.call("0",d-s)+m:m.slice(0,s-d)+"."+m.slice(s-d))):m=p+m,m}})}}]);